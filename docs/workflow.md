# 工作流程规则

本文档定义了茶叶批发OA-IM集成项目的主要工作流程。

## 开发工作流

### 分支管理流程

项目采用扩展的Git工作流:

* **main:** 主分支，包含生产版本
* **develop:** 开发分支，包含最新开发成果
* **feature/xxx:** 新特性分支
* **bugfix/xxx:** 错误修复分支
* **release/x.y.z:** 发布准备分支

**标准开发流程:**

1. 基于`develop`创建特性分支
2. 完成开发后，创建Pull Request到`develop`
3. 代码审查通过后合并到`develop`
4. 准备发布时，创建`release/x.y.z`分支
5. 测试通过后，合并到`main`并添加版本标签

### 提交规范

使用Conventional Commits规范:
```
feat: 添加订单创建表单
fix: 修复库存计算错误
docs: 更新应用说明文档
refactor: 重构审批流程逻辑
test: 添加订单处理测试用例
chore: 更新依赖包版本
```

## 业务工作流

### 订单处理流程

**销售订单处理流程:**

1. 业务员在Mattermost创建销售订单
2. 订单提交到审批流程
3. 订单审批通过
4. 订单发货
5. 订单完成，计算业务员提成

### 库存管理流程

**库存入库流程:**

1. 仓库管理员创建入库单
2. 提交入库审批
3. 入库审批通过，更新库存

**库存预警流程:**

1. 系统自动检测库存水平
2. 发现低于阈值的库存，生成预警通知
3. 采购人员处理预警

### 业务员货转公司货流程

**自动转换流程:**

1. 定时任务检查业务员货库存
2. 执行自动转换（购入超过15天）
3. 发送转换通知